% clear
% clf
% clc
%% GEN ARR
mdl_planar2 %generate p2 bot
hold on 
%axis([-2 4 -2 2 0 2])   %adjust workplace
p2.base = p2.base * transl(2,0,0);  %move the base closer towards light curtain
q1 =[-0.6283         0];
q2 = [0.6283         0];
qM = jtraj(q1,q2,20);   

%% NEw INfo Dump////

a1 = 0.5;
a2 = 0.6;


p2 = SerialLink([
    Revolute('d', 0, 'a', a1, 'alpha', 90, 'standard')
    Revolute('d', 0, 'a', a2, 'alpha', 0, 'standard')
    ], ...
    'name', 'two link'); 

q = zeros(1,2);%use this instead
scale = 0.5; 
workspace = [-2 2 -2 2 -0.2 2];                                       % Set the size of the workspace when drawing the robot
p2.plot(q,'workspace',workspace,'scale',scale);                  % Plot the robot

%% GEN Barrier is breached
dlc = DigitalLightCurtain();
state = dlc.isBreached(p2, qM);

%% GEN Barrier is not breached
p2.base = p2.base * transl(-2,0,0);
dlc = DigitalLightCurtain();
state = dlc.isBreached(p2, qM);
